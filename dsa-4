#include <iostream>
using namespace std;

float StudMatrix[4][4] = {{69, 92, 0, 0},{0,0,99,0},{0,0,94,60},{86,0,0,67}};
const int stud = 4;
const int sub = 4;
int count = 0;

struct StudentsGrades
{
int col;
float grades;
int row;

} sparsegrades[stud];

void sparse()
{
int i, j;
for (i = 0; i < stud; i++)
{
for (j = 0; j < sub; j++)
{
if (StudMatrix[i][j] != 0)
{
sparsegrades[count].row = i;
sparsegrades[count].col = j;
sparsegrades[count].grades = StudMatrix[i][j];

count ++;
}
}
}
}

void printsparse()
{
int i, j;

cout << "\nRow Col and Grades\n\n";
for (i = 0; i < count; i++)
{
cout << "\n" <<
sparsegrades[i].row<<"\t"<<sparsegrades[i].col<<"\t"<<sparsegrades[i].grades;
}
}

void calculatetheGrades()
{
float average[sub] = {0};
float avggrade = 0;
int highestavgsubject = 0;
cout << "\nAverage for each subject: \n";
for (int i = 0; i < sub; i++)
{
int counter = 0;
for (int j = 0; j < count; j++)
{
if (sparsegrades[j].col == i)
{

average[i] += sparsegrades[j].grades;
++counter;
}
}
if (counter > 0)
{
average[i] /= counter;
if (average[i]>avggrade)
{
avggrade = average[i];
highestavgsubject = i + 1;
}
}
else
average[i] = 0;
cout << "\nSubject " << i + 1 << ": " << average[i];
}
cout << "\nHighest average grade was in: Subject " << highestavgsubject;
}

void highestGrade()
{
int i,j;
int highestgrade = 0;
for (i = 0; i < count; i++)
{
if (sparsegrades[i].grades > highestgrade)
{
highestgrade = sparsegrades[i].grades;
}
}

cout << "\nHighest score is: " << highestgrade;
}

int main (int argc, char** argv)
{
sparse();
printsparse();
calculatetheGrades();
highestGrade();
}
